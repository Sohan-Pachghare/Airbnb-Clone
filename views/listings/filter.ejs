<% layout("./layouts/boilerplate.ejs") %>

    <body>
        <div class="row row-cols-1 row-cols-sm-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-3 g-4">
            <% for(listing of allListings) { %>
                <% if(listing.categories.includes(filter)) { %>
                    <div class="col">
                        <a href="/listings/<%= listing._id %>" class="text-decoration-none">
                            <div class="card h-100 border-0 transition-shadow" style="transition: all 0.3s">
                                <img src="<%= listing.image.url %>" class="card-img-top object-fit-cover"
                                    style="height: 16.5rem;" alt="listing image">

                                <div class="card-body p-3">
                                    <h5 class="card-title text-dark mb-1">
                                        <%= listing.title %>
                                    </h5>
                                    <p class="card-text text-muted small mb-2 text-truncate">
                                        <%= listing.description %>
                                    </p>

                                    <div class="d-flex justify-content-between align-items-center">
                                        <span class="fw-bold text-dark">â‚¹ <%= listing.price.toLocaleString("en-IN") %>
                                                </span>
                                        <small class="text-muted">per night</small>
                                    </div>

                                    <div class="mt-2 small text-muted">
                                        <%= listing.location %>, <%= listing.country %>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                <% } %>
            <% } %>
        </div>
    </body>