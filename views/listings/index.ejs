<% layout("layouts/boilerplate.ejs") %>

  <body>
    <div class="container">
      <!-- <h2 class="display-5 mb-4 text-center">Explore Listings</h2> -->
       <br><br><br><br><%- include("../includes/filter.ejs") %>
      <div class="row row-cols-1 row-cols-sm-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-3 g-4">
        
        <% for(listing of allListings) { %>
          <div class="col">
            <a href="/listings/<%= listing._id %>" class="text-decoration-none">
              <div class="card h-100 border-0 transition-shadow" style="transition: all 0.3s">
                <img src="<%= listing.image.url %>" class="card-img-top object-fit-cover" style="height: 16.5rem;"
                  alt="listing image">

                <div class="card-body p-3">
                  <h5 class="card-title text-dark mb-1">
                    <%= listing.title %>
                  </h5>
                  <p class="card-text text-muted small mb-2 text-truncate">
                    <%= listing.description %>
                  </p>

                  <div class="d-flex  align-items-center">
                    <span class="fw-bold text-dark">â‚¹&nbsp;<%= listing.price.toLocaleString("en-IN") %></span>
                    <small class="taxInfo text-muted">&nbsp;+18% &nbsp; GST</small>
                    <small class="text-muted ms-auto">per night</small>
                  </div>

                  <div class="mt-2 small text-muted">
                    <%= listing.location %>, <%= listing.country %>
                  </div>
                </div>
              </div>
            </a>
          </div>
          <% } %>
      </div>
    </div>

  </body>